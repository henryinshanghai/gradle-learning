/*
    æ‰‹æ®µï¼šè°ƒç”¨Projectçš„task()æ–¹æ³•åˆ›å»ºTask;
    å…·ä½“è¯­æ³•ï¼š Gradleçš„ taskå…³é”®å­—
 */
task hello1 {
    println 'hello1'
    println delegate.class.name
}


task hello2 {
    doLast {
        println 'hello2'
    }
}

task hello3 {
    doFirst {
        println 'hello3'
    }
}
/* Gradle DSL æ‰€æä¾›çš„åˆ›å»º taskçš„æ‰‹æ®µ ğŸ‘† taskå…³é”®å­çš„æœ¬è´¨æ˜¯ è°ƒç”¨äº† Projectç±»å‹çš„task()æ–¹æ³• */

/*
    è‡ªå®šä¹‰çš„3ä¸ªTaskéƒ½ä½äºTaskContainerä¸­â€”â€”â€”â€” Projectä¸­çš„taskså±æ€§ å³è¡¨ç¤ºè¯¥TaskContainer
    ç‰¹å¾ï¼š Project çš„taskså±æ€§å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨
 */
task showTasks {
    println tasks.class // class org.gradle.api.internal.tasks.DefaultTaskContainer_Decorated
    println tasks.size() // 19 19æ˜¯æ ¹æ®ä»€ä¹ˆå¾—åˆ°çš„ï¼Ÿ
}


/*
    æ‰‹æ®µ2ï¼šé€šè¿‡TaskContainerçš„create()æ–¹æ³•åˆ›å»ºTask
    åŸç†ï¼š
        1 é€šè¿‡task()æ–¹æ³•åˆ›å»ºçš„Taskéƒ½è¢«å­˜æ”¾åœ¨äº†TaskContainerä¸­ï¼›
        2 Project åˆç»´æŠ¤äº†ä¸€ä¸ª TaskContainerç±»å‹çš„å±æ€§tasks -> å¯ä»¥ç›´æ¥å‘TaskContaineré‡Œé¢æ·»åŠ Task
 */
tasks.create(name: 'hello4') {
    println 'hello4'
}

/*
    åœ¨å®šä¹‰ä¸€ä¸ªTaskçš„åŒæ—¶ å£°æ˜å®ƒçš„ä¾èµ–é¡¹
    è¯­æ³•1ï¼š dependsOn: <dependency_task>
 */
task hello5(dependsOn: hello4) {
    println 'hello5'
}


/*
    å…ˆå®šä¹‰å®Œæˆ Taskï¼Œå†å»å£°æ˜ä¾èµ–é¡¹
 */
task hello6 { // å®šä¹‰ Task
    println 'hello6'
}

hello6.dependsOn hello5 // å£°æ˜ä¾èµ–é¡¹

/*
    é…ç½® taskä¸­å¯ç”¨çš„ property;
    æ‰‹æ®µ1ï¼š åœ¨å®šä¹‰/å£°æ˜ taskçš„æ—¶å€™ï¼Œé…ç½® property
 */
task hello7 {
    // Gradleä¸ºæ¯ä¸ªTaské»˜è®¤å®šä¹‰çš„Propertyï¼Œæ¯”å¦‚descriptionï¼Œlogger
    description = "this is hello7"
    println description
}

/*
    é…ç½® taskä¸­å¯ç”¨çš„ property;
    æ‰‹æ®µ2ï¼š ä½¿ç”¨é—­åŒ…çš„æ–¹å¼ æ¥ åˆå§‹åŒ–property
 */
// å®šä¹‰ task
task hello8 {
    println description
}

// æ‰‹æ®µ2ï¼šä½¿ç”¨é—­åŒ…çš„æ–¹å¼ æ¥ é…ç½®taskçš„descriptionå±æ€§
/*
    ä¸ºä»€ä¹ˆå¯ä»¥å…ˆå®šä¹‰ taskï¼Œå†åˆå§‹åŒ– property?
    åŸç†ï¼šGradleåœ¨æ‰§è¡ŒTaskæ—¶åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œé¦–å…ˆæ˜¯é…ç½®é˜¶æ®µï¼Œç„¶åæ‰æ˜¯å®é™…æ‰§è¡Œé˜¶æ®µ
    ç»“æœï¼šhello8 å…¶å® å¹¶æ²¡æœ‰è¢«æ‰§è¡Œ
 */
hello8 {
    description = "this is hello8"
}

task hello9 {
    println description
}

// æ‰‹æ®µ3ï¼šè°ƒç”¨Taskçš„configure()æ–¹æ³•å®ŒæˆPropertyçš„è®¾ç½®
hello9.configure {
    description = "this is hello9"
}

/*
çŸ¥è¯†å¡ï¼š

Gradleçš„Project ä»æœ¬è´¨ä¸Šè¯´åªæ˜¯å«æœ‰å¤šä¸ªTaskçš„å®¹å™¨ï¼Œ
ä¸€ä¸ªTask ä¸Antçš„Targetç›¸ä¼¼ï¼Œè¡¨ç¤ºä¸€ä¸ªé€»è¾‘ä¸Šçš„æ‰§è¡Œå•å…ƒã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡å¾ˆå¤šç§æ–¹å¼å®šä¹‰Taskï¼Œæ‰€æœ‰çš„Task éƒ½å­˜æ”¾åœ¨Projectçš„TaskContainerä¸­ã€‚

 */